<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CFS Scheduler (SCH) Application on  User&#39;s Guide: CFS Scheduler Table Definitions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">index</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="cfsschtbl">CFS Scheduler Table Definitions </a></h1><table border="1" cellpadding="2" width="60%" align="CENTER" cellspacing="3">
<tr>
<td width="20%" align="CENTER"><p><b><a class="el" href="cfsschcmds.html">CFS Scheduler Commands</a></b> </p>
</td><td width="20%" align="CENTER"><p><b><a class="el" href="cfsschtlm.html">CFS Scheduler Telemetry</a></b>  </p>
</td><td width="20%" align="CENTER"><p><b><a class="el" href="cfsschcfg.html">CFS Scheduler Configuration Parameters</a></b> </p>
</td></tr>
</table>
<p>The following are the tables that are used by the CFS Scheduler Application.</p>
<h3>Schedule Definition Table (SDT)</h3>
<p>Each entry in the Schedule Definition Table has the following structure:<br/>
</p>
<div class="fragment"><pre class="fragment">
  typedef struct
  {
    uint8    EnableState;          /* State may be SCH_UNUSED, SCH_ENABLED, SCH_DISABLED */
    uint8    Type;                 /* Activity Type may be SCH_ACTIVITY_NONE or SCH_ACTIVITY_SEND_MSG */
    uint16   Frequency;            /* Number of seconds between Activity execution */
    uint16   Remainder;            /* Seconds offset to perform Activity */
    uint16   MessageIndex;         /* Byte index into Message Definition Table */
    uint32   GroupData;            /* Group and Multi-Group membership definitions */
  } SCH_ScheduleEntry_t;
  </pre></div><p>The first element, <code>EnableState</code>, identifies whether the specified Activity is currently <a class="el" href="sch__msgdefs_8h.html#a3c3c3058724b68ff42107cff3fbeeeaa">unspecified </a> (i.e. - unused), <a class="el" href="sch__msgdefs_8h.html#a4863bca80e851a3a246e36b1b298db73">Enabled </a> (i.e. - the Activity will be acted upon once SCH has loaded the table), or <a class="el" href="sch__msgdefs_8h.html#a1bb9b6a778c72103f9c48c673496f7ef">Disabled </a> (i.e. - the Activity will NOT be acted upon once SCH has loaded the table).</p>
<p>The second element, <code>Type</code>, specifies whether the Activity is to <a class="el" href="sch__msgdefs_8h.html#a343748e9d5952c672ff8bd29df1759d2">send a message </a> or to do <a class="el" href="sch__msgdefs_8h.html#a72d6c6d22c9c99a7646f57c547afb722">nothing </a>. This parameter can be used for future expansion of Activity types that may be added at a later date.</p>
<p>The third element, <code>Frequency</code>, specifies the number of Major Frames that need to occur between Activity processing. For example, if set equal to one (1), the specified Activity will occur each time SCH processes the table. If set equal to two (2), the specified Activity will occur every other time SCH processes the table, etc.</p>
<p>The fourth element, <code>Remainder</code>, specifies how many Major Frames need to occur BEFORE the first time the Activity will be processed. This value must be less than the <code>Frequency</code> term specified above. This term allows the user to stagger events that occur on a common frequency to spread the CPU load over time. For example, if there are two activities whose <code>Frequency</code> element is two, one of the activity's <code>Remainder</code> is a zero (0) and the other is a one (1), then each Activity would occur on the second the other does not.</p>
<p>The fifth element, <code>MessageIndex</code>, indicates which message entry in the Message Definition Table (see below) is to be transmitted when this Activity is processed.</p>
<p>The last element, <code>GroupData</code>, allows the user to assign the Activity a Group identifier and to also designate the item as belonging to one or more groups of groups. The <code>GroupData</code> element has two bit-fields that are of interest. The bit structure is shown below: <br/>
<br/>
</p>
<table border="1" width="100%" cellspacing="3" cellpadding="3">
<tr>
<td><p><b>MSB</b> </p>
</td><td colspan="30"><p>&nbsp; </p>
</td><td><p><b>LSB</b>  </p>
</td></tr>
<tr>
<td width="20"><p><b>31</b> </p>
</td><td><p><b>30</b> </p>
</td><td><p><b>29</b> </p>
</td><td><p><b>28</b> </p>
</td><td><p><b>27</b> </p>
</td><td><p><b>26</b> </p>
</td><td><p><b>25</b> </p>
</td><td><p><b>24</b> </p>
</td><td><p><b>23</b> </p>
</td><td><p><b>22</b> </p>
</td><td><p><b>21</b> </p>
</td><td><p><b>20</b> </p>
</td><td><p><b>19</b> </p>
</td><td><p><b>18</b> </p>
</td><td><p><b>17</b> </p>
</td><td><p><b>16</b> </p>
</td><td><p><b>15</b> </p>
</td><td><p><b>14</b> </p>
</td><td><p><b>13</b> </p>
</td><td><p><b>12</b> </p>
</td><td><p><b>11</b> </p>
</td><td><p><b>10</b> </p>
</td><td><p><b>09</b> </p>
</td><td><p><b>08</b> </p>
</td><td><p><b>07</b> </p>
</td><td><p><b>06</b> </p>
</td><td><p><b>05</b> </p>
</td><td><p><b>04</b> </p>
</td><td><p><b>03</b> </p>
</td><td><p><b>02</b> </p>
</td><td><p><b>01</b> </p>
</td><td><p><b>00</b>  </p>
</td></tr>
<tr>
<td colspan="8"><p><b>Group # (1-255)</b> </p>
</td><td colspan="24"><p><b>Multi-Group Bit Mask</b>  </p>
</td></tr>
</table>
<p>A Group Number, ranging from 1-255 (zero if no group ID is wanted), can be assigned to any number of Activities. When that group number is used in a <a class="el" href="sch__msgdefs_8h.html#a35a6fd9478cc7dbb5936bcc4b5e54a8d">Group Enable/Disable Command </a>, all the Activities with that group number will have their enable/disable status changed simultaneously.</p>
<p>Similarly, individual bits in the Multi-Group Bit Mask can be set to one. A bit mask setting one or more of these bits used in an <a class="el" href="sch__msgdefs_8h.html#a35a6fd9478cc7dbb5936bcc4b5e54a8d">Group Enable/Disable Command </a> will cause all Activities with a similar bit set to have their enable/disable status changed simultaneously. This essentially allows the user to make a group of groups and to treat them as a single group in a command.</p>
<p>If the user wishes to leave a spot empty in the table, ALL fields must be set to zero. Any values in any field will cause the table to be rejected as corrupt.</p>
<p>A sample Schedule Definition Table can be found in the <code>tables</code> sub-directory for the SCH App. This sample Schedule Definition Table defines a default configuration for a complete CFS system. The user will be required to uncomment out those CFS Applications they wish to include in their configuration.</p>
<h3>Message Definition Table (MDT)</h3>
<div class="fragment"><pre class="fragment">
  typedef struct
  {
    uint16   MessageBuffer[SCH_MAX_MSG_WORDS]; /* Packed Messages */

  } SCH_MessageEntry_t;
  </pre></div><p>The Message Definition Table is simply an array of fixed length byte arrays (i.e. - a two dimensional byte array). The number of rows in the array is defined by the configuration parameter <a class="el" href="sch__platform__cfg_8h.html#a02550ee5880be5061544001811deecec">SCH_MAX_MESSAGES</a>. The size of each row is defined by the configuration parameter <a class="el" href="sch__platform__cfg_8h.html#abae40b96462eac577fb95363ee030a38">SCH_MAX_MSG_WORDS</a>. Each row can contain the binary definition of a single message the user wishes SCH to output on the Software Bus. The first row cannot be used because it would map to the "Unused" parameter of zero in the Schedule Definition Table. The index for each following row is what needs to be specified in the Schedule Definition Table as the <code>MessageIndex</code> to assign the message to the appropriate Activity.</p>
<p>A sample Message Definition Table can be found in the <code>tables</code> sub-directory for the SCH App. This sample Message Definition Table contains default messages used for a complete CFS system. In order to use the sample Message Definition Table for a full up CFS system, the message definitions must be uncommented out. </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Jul 2017 for CFS Scheduler (SCH) Application on  User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
